# ====== General Settings ======
# 0. Set Ctrl-q as prefix
set -g prefix M-q
set -g prefix2 C-b

bind M-q send-prefix
bind C-b send-prefix

# ====== Key Rebinding ======
# 1. 's' as last-pane (original '\' still works)
bind s last-pane
bind \\ last-pane  # Keep default binding

# 2. 'v' as copy-mode (unbind '[')
bind v copy-mode
unbind [

# 3. 'p' as paste-buffer with -p -r (unbind ']')
bind p paste-buffer -p -r
unbind ]

# 4. 'e' as last-window (original 'l' will be rebound)
bind e last-window

# 5. 'A' (Shift+a) as swap-pane -U with repeat
bind -r A swap-pane -U

# 6. 'a' as swap-pane -D with repeat
bind -r a swap-pane -D

# 7. Vim-style pane navigation
bind -r k select-pane -U  # Up
bind -r j select-pane -D  # Down
bind -r h select-pane -L  # Left
bind -r l select-pane -R  # Right

# 8. 'u' as choose-buffer (unbind C-p)
bind u choose-buffer
unbind C-p

# 9 Q now kill session
bind Q confirm-before -p "kill-session #S? (y/n)" kill-session

# 10 r: re-source config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# 11 correct path pane
bind % split-window -h -c   "#{pane_current_path}"
bind '"' split-window -v -c "#{pane_current_path}"

# 12 correct path window
bind c new-window -c "#{pane_current_path}"


# ====== Additional Optimizations ======

set -g mouse on
setw -g mode-keys vi
set -g status-interval 1

# cause error
#set -g default-terminal "screen-256color"
#set -ga terminal-overrides ",xterm-256color*:Tc"
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"

set -g base-index 1
setw -g pane-base-index 1



